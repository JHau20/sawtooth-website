

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Validator Configuration File &mdash; Sawtooth v1.2.6 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="REST API Configuration File" href="rest_api_configuration_file.html" />
    <link rel="prev" title="About Sawtooth Configuration Files" href="../configuring_sawtooth.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html" class="icon icon-home" alt="Documentation Home"> Sawtooth
          

          
          </a>

          
            
            
              <div class="version">
                v1.2.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_developers_guide.html">Application Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Architecture Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transaction_family_specifications.html">Transaction Family Specifications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../sysadmin_guide.html">System Administrator’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../setting_up_sawtooth_network.html">Setting Up a Sawtooth Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configure_sgx.html">Using Sawtooth with PoET-SGX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setting_allowed_txns.html">Setting the Allowed Transaction Types (Optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adding_authorized_users.html">Adding Authorized Users for Settings Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rest_auth_proxy.html">Using a Proxy Server to Authorize the REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuring_permissions.html">Configuring Validator and Transactor Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grafana_configuration.html">Using Grafana to Display Sawtooth Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about_dynamic_consensus.html">About Dynamic Consensus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pbft_adding_removing_node.html">Adding or Removing a PBFT Node</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../configuring_sawtooth.html">About Sawtooth Configuration Files</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Validator Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest_api_configuration_file.html">REST API Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="cli_configuration.html">Sawtooth CLI Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="poet_sgx_enclave_configuration_file.html">PoET SGX Enclave Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="identity_tp_configuration.html">Identity Transaction Processor Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings_tp_configuration.html">Settings Transaction Processor Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="xo_tp_configuration.html">XO Transaction Processor Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../log_configuration.html">Log Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="path_configuration_file.html">Path Configuration File</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_references.html">SDK and API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">CLI Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">Sawtooth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../sysadmin_guide.html">System Administrator’s Guide</a> &raquo;</li>
        
          <li><a href="../configuring_sawtooth.html">About Sawtooth Configuration Files</a> &raquo;</li>
        
      <li>Validator Configuration File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/sysadmin_guide/configuring_sawtooth/validator_configuration_file.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="validator-configuration-file">
<h1>Validator Configuration File<a class="headerlink" href="#validator-configuration-file" title="Permalink to this headline">¶</a></h1>
<p>The validator configuration file specifies network information that allows
the validator to advertise itself properly and search for peers. This file
also contains settings for optional authorization roles and transactor
permissions.</p>
<p>If the config directory contains a file named <code class="docutils literal notranslate"><span class="pre">validator.toml</span></code>, the
configuration settings are applied when the validator starts.
Specifying an option on the command line overrides the
setting in the configuration file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the config directory is <code class="docutils literal notranslate"><span class="pre">/etc/sawtooth/</span></code>.
See <a class="reference internal" href="path_configuration_file.html"><span class="doc">Path Configuration File</span></a> for more information.</p>
</div>
<p>An example configuration file is in <code class="docutils literal notranslate"><span class="pre">/etc/sawtooth/validator.toml.example</span></code>.
To create a validator configuration file, copy the example file to the config
directory and name it <code class="docutils literal notranslate"><span class="pre">validator.toml</span></code>. Important: Copy with <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-a</span></code> to
preserve the file’s ownership and permissions (or change after copying to
owner <code class="docutils literal notranslate"><span class="pre">root</span></code>, group <code class="docutils literal notranslate"><span class="pre">sawtooth</span></code>, and permissions <code class="docutils literal notranslate"><span class="pre">640</span></code>). Then edit the file
to change the example configuration options as necessary for your system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the procedures that show how to change configuration settings in this
file, see <a class="reference internal" href="../off_chain_settings.html"><span class="doc">Changing Off-chain Settings with Configuration Files</span></a> and <a class="reference internal" href="../configure_sgx.html"><span class="doc">Using Sawtooth with PoET-SGX</span></a>.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">validator.toml</span></code> configuration file has the following options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">bind</span> <span class="pre">=</span> <span class="pre">[</span> <span class="pre">&quot;network:{endpoint}&quot;,</span> <span class="pre">&quot;component:{endpoint}&quot;,</span> <span class="pre">&quot;consensus:{endpoint}&quot;,</span> <span class="pre">]</span></code></p>
<p>Sets the network, component, and consensus endpoints. The default values are:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bind = [
  &quot;network:tcp://127.0.0.1:8800&quot;,
  &quot;component:tcp://127.0.0.1:4004&quot;,
  &quot;consensus:tcp://127.0.0.1:5050&quot;
]
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">peering</span> <span class="pre">=</span> <span class="pre">&quot;{static,dynamic}&quot;</span></code></p>
<p>Specifies the type of peering the validator should use: static
or dynamic.  Default: <code class="docutils literal notranslate"><span class="pre">static</span></code>.</p>
<p>Static peering attempts to peer only with the candidates provided with the
peers option. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>peering = &quot;static&quot;
</pre></div>
</div>
<p>Dynamic peering first processes any static peers, starts topology buildouts,
then uses the URLs specified by the seeds option for the initial connection
to the Sawtooth network.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>peering = &quot;dynamic&quot;
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">endpoint</span> <span class="pre">=</span> <span class="pre">&quot;URL&quot;</span></code></p>
<p>Sets the advertised network endpoint URL. Default: <a class="reference external" href="tcp://127.0.0.1:8800">tcp://127.0.0.1:8800</a>.
Replace the external interface and port values with either the
publicly addressable IP address and port or with the NAT values for your
validator. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>endpoint = &quot;tcp://127.0.0.1:8800&quot;
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">seeds</span></code> = [<code class="docutils literal notranslate"><span class="pre">URI</span></code>]</p>
<p>(Dynamic peering only.) Specifies the URI or URIs for the initial connection
to the Sawtooth network.  Specify multiple URIs in a comma-separated list;
each URI must be enclosed in double quotes.  Default: none.</p>
<p>Note that this option is not needed in static peering mode.</p>
<p>Replace the seed address and port values with either the publicly addressable
IP address and port or with the NAT values for the other nodes in your
network. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>seeds = [&quot;tcp://validator-host1:8800&quot;]
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">peers</span></code> = [“<cite>URL</cite>”]</p>
<p>Specifies a static list of peers to attempt to connect to. Default: none.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>peers = [&quot;tcp://validator-host1:8800&quot;]
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">scheduler</span></code> = ‘<cite>type</cite>’</p>
<p>Determines the type of scheduler to use: serial or parallel. Default:
<code class="docutils literal notranslate"><span class="pre">parallel</span></code>. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scheduler = &#39;parallel&#39;
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">network_public_key</span></code> and <code class="docutils literal notranslate"><span class="pre">network_private_key</span></code></p>
<p>Specifies the curve ZMQ key pair used to create a secured network based on
side-band sharing of a single network key pair to all participating nodes.
Default: none.</p>
<p>Enclose the key in single quotes; for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>network_public_key = &#39;wFMwoOt&gt;yFqI/ek.G[tfMMILHWw#vXB[Sv}&gt;l&gt;i)&#39;
network_private_key = &#39;r&amp;oJ5aQDj4+V]p2:Lz70Eu0x#m%IwzBdP(}&amp;hWM*&#39;
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If these options are not set or the configuration file does not exist, the
network will default to being insecure.</p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">opentsdb_url</span></code> = “<cite>value</cite>”</p>
<p>Sets the host and port for an Open TSDB database (used for metrics).
Default: none.</p>
<p>For example of using the <code class="docutils literal notranslate"><span class="pre">opentsdb_</span></code> settings, see
<a class="reference internal" href="../grafana_configuration.html"><span class="doc">Using Grafana to Display Sawtooth Metrics</span></a>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">opentsdb_db</span></code> = “<cite>name</cite>”</p>
<p>Sets the name of the Open TSDB database. Default: none.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">opentsdb_username</span></code> = <cite>username</cite></p>
<p>Sets the username for the Open TSDB database. Default: none.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">opentsdb_password</span></code> = <cite>password</cite></p>
<p>Sets the password for the Open TSDB database. Default: none.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">network</span> <span class="pre">=</span> <span class="pre">&quot;{trust,challenge}&quot;</span></code></p>
<p>Specifies the type of authorization that must be performed for the different
type of authorization roles on the network: trust or challenge.
Default: trust.</p>
<p>This option must be in the <code class="docutils literal notranslate"><span class="pre">[roles]</span></code> section of the file.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[roles]
network = &quot;trust&quot;
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../architecture/validator_network.html#authorization-types"><span class="std std-ref">Authorization Types</span></a>.</p>
</li>
<li><p>“<cite>role</cite>” = “<cite>policy</cite>”</p>
<p>Sets the off-chain transactor permissions for the role or roles that specify
which transactors are allowed to sign batches on the system. Multiple roles
can be defined, using one “<cite>role</cite>” = “<cite>policy</cite>” entry per line. Default: none.</p>
<p>The role names specified in this config file must match the roles stored in
state for transactor permissioning. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">transactor</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transactor.transaction_signer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transactor.transaction_signer.{tp_name}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transactor.batch_signer</span></code></p></li>
</ul>
<p>For <cite>policy</cite>, specify a policy file in <code class="docutils literal notranslate"><span class="pre">policy_dir</span></code> (by default,
<code class="docutils literal notranslate"><span class="pre">/etc/sawtooth/</span></code>). Each policy file contains permit and deny rules for the
transactors; see <a class="reference internal" href="../configuring_permissions.html#off-chain-transactor-permissioning"><span class="std std-ref">Off-chain Transactor Permissioning</span></a>.</p>
<p>Because transactor roles and policy files can have a period in the name, use
double-quotes so that TOML can process these settings. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[permissions]
&quot;transactor&quot; = &quot;policy.example&quot;
&quot;transactor.transaction_signer&quot; = &quot;policy.example&quot;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">default</span></code> role cannot be set in the configuration file. Use the
<code class="docutils literal notranslate"><span class="pre">sawtooth</span> <span class="pre">identity</span></code> command to change this on-chain-only setting.</p>
</div>
<p>See <a class="reference internal" href="../configuring_permissions.html"><span class="doc">Configuring Validator and Transactor Permissions</span></a> for more information on roles and
permissions.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">minimum_peer_connectivity</span></code> = <cite>min</cite></p>
<p>The minimum number of peers required before stopping peer search.
Default: 3 For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>minimum_peer_connectivity = 3
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">maximum_peer_connectivity</span></code> = <cite>max</cite></p>
<p>The maximum number of peers that will be accepted. Default: 10. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>maximum_peer_connectivity = 10
</pre></div>
</div>
</li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rest_api_configuration_file.html" class="btn btn-neutral float-right" title="REST API Configuration File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../configuring_sawtooth.html" class="btn btn-neutral float-left" title="About Sawtooth Configuration Files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2015-2017, Intel Corporation

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>