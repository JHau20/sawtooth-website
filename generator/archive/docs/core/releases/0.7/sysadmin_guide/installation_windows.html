

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation on Windows &mdash; Sawtooth Lake 0.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Sawtooth Lake 0.7 documentation" href="../index.html"/>
        <link rel="up" title="System Administrator’s Guide" href="../sysadmin_guide.html"/>
        <link rel="next" title="Network Configuration" href="network_configuration.html"/>
        <link rel="prev" title="Installation on SLES" href="installation_sles.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../contents.html" class="icon icon-home"> Sawtooth Lake
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../txn_family_tutorial.html">Transaction Family Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bond_family_guide.html">Bond Family Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mktnav_users_guide.html">Marketplace Navigator User&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sawtooth_developers_guide.html">Sawtooth Lake Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mktplace_developers_guide.html">MarketPlace Developer&#8217;s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sysadmin_guide.html">System Administrator&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="packaging_ubuntu.html">Creating Packages for Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_sles.html">Creating Packages for SLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_windows.html">Creating Packages for Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_ubuntu.html">Installation on Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_sles.html">Installation on SLES</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation on Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-tools">Install Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-python">Install Python</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-dependencies">Install Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#install-validator">Install Validator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gui-install">GUI Install</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-install">Command Line Install</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-as-a-service">Install As a Service</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#run-validator">Run Validator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#as-a-service">As a Service</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-validator">Configuring the Validator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#security">Security</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uninstallation">Uninstallation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gui-uninstall">GUI Uninstall</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-uninstall">Command Line Uninstall</a></li>
<li class="toctree-l4"><a class="reference internal" href="#service-removal">Service removal</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="network_configuration.html">Network Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">Sawtooth Lake</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../sysadmin_guide.html">System Administrator&#8217;s Guide</a> &raquo;</li>
        
      <li>Installation on Windows</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/sysadmin_guide/installation_windows.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-on-windows">
<h1>Installation on Windows<a class="headerlink" href="#installation-on-windows" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>To run the SawtoothLake Validator you will need the following:</p>
<ul class="simple">
<li>Sawtooth-validator.exe</li>
<li>Python 2.7.11 Windows x86-64 MSI Installer (python-2.7.11.amd64.msi)</li>
<li>Python Extensions for Windows exe installer (pywin32-219.win-amd64-py2.7.exe)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Python Extensions for Windows is only necessary if you intend to run
SawtoothLake Validator as a Windows service.</p>
</div>
<p>Download Python Windows x86-64 MSI Installer (python-2.7.11.amd64.msi) from:</p>
<blockquote>
<div><a class="reference external" href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a></div></blockquote>
<p>Download Python Extensions for Windows (pywin32-219.win-amd64-py2.7.exe) from:</p>
<blockquote>
<div><a class="reference external" href="http://sourceforge.net/projects/pywin32/files/pywin32/">http://sourceforge.net/projects/pywin32/files/pywin32/</a></div></blockquote>
</div>
<div class="section" id="install-tools">
<h2>Install Tools<a class="headerlink" href="#install-tools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="install-python">
<h3>Install Python<a class="headerlink" href="#install-python" title="Permalink to this headline">¶</a></h3>
<p>Navigate to the directory where you saved python-2.7.11.amd64.msi
and double click it to start the installer.</p>
<img alt="../_images/python_all_users.png" src="../_images/python_all_users.png" />
<ul class="simple">
<li>Make sure &#8220;Install for all Users&#8221; is selected and then click Next &gt;</li>
</ul>
<img alt="../_images/python_default_path.png" src="../_images/python_default_path.png" />
<ul class="simple">
<li>Accept the default path of <code class="docutils literal"><span class="pre">C:\Python27</span></code> by clicking Next &gt;</li>
</ul>
<img alt="../_images/python_customize.png" src="../_images/python_customize.png" />
<ul class="simple">
<li>We don&#8217;t need any customizations here. Click Next &gt;</li>
</ul>
<img alt="../_images/python_progress_bar.png" src="../_images/python_progress_bar.png" />
<ul class="simple">
<li>A progress bar will appear</li>
</ul>
<img alt="../_images/python_complete.png" src="../_images/python_complete.png" />
<ul class="simple">
<li>The install is complete! Click Finish.</li>
</ul>
</div>
<div class="section" id="install-dependencies">
<h3>Install Dependencies<a class="headerlink" href="#install-dependencies" title="Permalink to this headline">¶</a></h3>
<p>We&#8217;ll need to install a few Python packages using pip.</p>
<p>Open a Powershell window and run the following commmands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; c:\python27\scripts\pip.exe install cbor</span>
<span class="go">PS C:\Users\username&gt; c:\python27\scripts\pip.exe install colorlog</span>
<span class="go">PS C:\Users\username&gt; c:\python27\scripts\pip.exe install ecdsa</span>
<span class="go">PS C:\Users\username&gt; c:\python27\scripts\pip.exe install pybitcointools</span>
<span class="go">PS C:\Users\username&gt; c:\python27\scripts\pip.exe install twisted</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-validator">
<h2>Install Validator<a class="headerlink" href="#install-validator" title="Permalink to this headline">¶</a></h2>
<p>You can install SawtoothLake Validator either using the GUI or with an
unattended command line mode. We&#8217;ll cover both below.</p>
<div class="section" id="gui-install">
<h3>GUI Install<a class="headerlink" href="#gui-install" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/validator_download_folder.png" src="../_images/validator_download_folder.png" />
<ul class="simple">
<li>Navigate to the folder containing sawtooth-validator.exe</li>
</ul>
<img alt="../_images/validator_progress_bar.png" src="../_images/validator_progress_bar.png" />
<ul class="simple">
<li>Double click sawtooth-validator.exe and a window will appear with a
progress bar</li>
<li>Click close once the installer finishes</li>
</ul>
</div>
<div class="section" id="command-line-install">
<h3>Command Line Install<a class="headerlink" href="#command-line-install" title="Permalink to this headline">¶</a></h3>
<p>Open Powershell, navigate to the folder containing sawtooth-validator.exe and
start the install</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; cd .\Downloads</span>
<span class="go">PS C:\Users\username\Downloads&gt; .\sawtooth-validator.exe /S</span>
</pre></div>
</div>
<p>Whichever way you chose to install, you should now see the Validator
files have been placed in <code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Intel\sawtooth-validator</span></code>.</p>
<img alt="../_images/validator_files.png" src="../_images/validator_files.png" />
</div>
<div class="section" id="install-as-a-service">
<h3>Install As a Service<a class="headerlink" href="#install-as-a-service" title="Permalink to this headline">¶</a></h3>
<p>Install the Validator code using either the GUI or command line options above.</p>
<ul class="simple">
<li>After the install is complete, open a Powershell window and set some
system environment variables:</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; [Environment]::SetEnvironmentVariable(&quot;Path&quot;,$Env:Path + &quot;;c:\python27;&quot;, &quot;Machine&quot;)</span>
<span class="go">PS C:\Users\username&gt; [Environment]::SetEnvironmentVariable(&quot;PYTHONPATH&quot;, &quot;C:\Program Files (x86)\Intel\sawtooth-validator\lib\python\&quot;, &quot;Machine&quot;)</span>
</pre></div>
</div>
<ul class="simple">
<li>Rename txnvalidator so Python Extensions can import it:</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; cd &quot;C:\Program Files (x86)\Intel\sawtooth-validator\bin&quot;</span>
<span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator\bin&gt; mv .\txnvalidator .\txnvalidator.py</span>
</pre></div>
</div>
<ul class="simple">
<li>Install the Validator sevice:</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator\bin&gt; python.exe .\txnvalidator.py install</span>
<span class="go">Installing service SawtoothValidator-Service</span>
<span class="go">Service installed</span>
</pre></div>
</div>
<ul class="simple">
<li>Open the Windows services console to verify that the service was installed successfully.</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator\bin&gt; services.msc</span>
</pre></div>
</div>
<img alt="../_images/services_console.png" src="../_images/services_console.png" />
</div>
</div>
<div class="section" id="run-validator">
<h2>Run Validator<a class="headerlink" href="#run-validator" title="Permalink to this headline">¶</a></h2>
<p>The PYTHONPATH environment variable needs to set and the the Python directory
needs to be added to our path before running Validator. Open
Powershell and run the following:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; $env:PYTHONPATH += &quot;;C:\Program Files (x86)\Intel\sawtooth-validator\lib\python\&quot;</span>
<span class="go">PS C:\Users\username&gt; $env:PATH += &quot;;c:\python27;&quot;</span>
</pre></div>
</div>
<p>Start txnvalidator by navigating to <code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Intel\sawtooth-validator\bin</span></code>
and running:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; cd &quot;C:\Program Files (x86)\Intel\sawtooth-validator\bin&quot;</span>
<span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator\bin&gt; python .\txnvalidator --config simple.js --url **none**</span>
</pre></div>
</div>
<p>You should see the logfiles being updated in
<code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Intel\sawtooth-validator\logs</span></code>.</p>
<img alt="../_images/logfile.png" src="../_images/logfile.png" />
<div class="section" id="as-a-service">
<h3>As a Service<a class="headerlink" href="#as-a-service" title="Permalink to this headline">¶</a></h3>
<p>In order to run Validator as a Windows service a few changes need to be made
to the config files.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; cd &quot;C:\Program Files (x86)\Intel\sawtooth-validator\conf&quot;</span>
<span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator\conf&gt; mv .\simple.js .\settings.js</span>
</pre></div>
</div>
<p>Open settings.js in your preferred editor and change the &#8220;LedgerURL&#8221; value to
&#8220;**none**&#8221;:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{
    &quot;HttpPort&quot; : 0,
    &quot;Host&quot; : &quot;localhost&quot;,
    &quot;Port&quot; : 0,
    &quot;NodeName&quot; : &quot;base000&quot;,
    &quot;LedgerURL&quot; : &quot;**none**&quot;,
</pre></div>
</div>
<p>The service is set to Manual start by default. Run the below command to start
it:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; Start-Service SawtoothValidator-Service</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuring-the-validator">
<h2>Configuring the Validator<a class="headerlink" href="#configuring-the-validator" title="Permalink to this headline">¶</a></h2>
<p>By default, the validator will start up as a &#8216;base&#8217; validator.
It will not reach out to other validator nodes, and it will initialize
a new set of data files in the data directory,
<cite>C:\Program Files (x86)\Intel\sawtooth-validator\data\</cite>
by default.</p>
<p>In order to join the new validator to an existing network of validators,
the &#8220;LedgerURL&#8221; setting must be changed in the configuration file to
point to a valid URL for an existing http validator in the network.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{
    &quot;HttpPort&quot; : 0,
    &quot;Host&quot; : &quot;localhost&quot;,
    &quot;Port&quot; : 0,
    &quot;NodeName&quot; : &quot;node000&quot;,
    &quot;LedgerURL&quot; : &quot;http://base-validator.domain.com:8800/&quot;,
</pre></div>
</div>
<p>It is also important to set the &#8220;NodeName&#8221; value to a unique value based
on your naming convention. The node&#8217;s key, which must be generated using
the command <em>sawtooth keygen</em>, must be named {node name}.wif and placed
in the keys directory.</p>
<p>Several other settings are important for correct functionality of the
new validator node. The configuration file must contain the list of
valid transaction families supported by the validator network.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;TransactionFamilies&quot; : [
    &quot;IntegerKey&quot;,
    &quot;MarketPlace&quot;
]
</pre></div>
</div>
<p>Lastly, the &#8220;AdministrationNode&#8221; setting must contain the address of the
administration node on the validator network. This instructs the validator
to listen for and act on administrative transactions (like shutdown)
received from the administration node. The administration node address
can be found in the keys directory on the adminstration node in a file
called {node name}.addr.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;AdministrationNode&quot; : &quot;19ns29kWDTX8vNeHNzJbJy6S9HZiqHZyEE&quot;
</pre></div>
</div>
<div class="section" id="security">
<h3>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<p>You can instruct the validator to check whether or not the validator is being
run under a user with elevated privileges (root in Linux, or administrator in
Windows). If elevated privileges are being used, the validator stops with a
warning.</p>
<p>To run the privilege level check, change the &#8220;CheckElevated&#8221; setting to &#8220;true&#8221;
in the configuration file:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;CheckElevated&quot; : true
</pre></div>
</div>
<p>This setting applies only to Linux and Windows operating systems.</p>
</div>
</div>
<div class="section" id="uninstallation">
<h2>Uninstallation<a class="headerlink" href="#uninstallation" title="Permalink to this headline">¶</a></h2>
<p>Just like with installation, SawtoothLake Validator can be uninstalled
either using the GUI or with an unattended command line mode.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you installed SawtoothLake Validator as a service, please run the
service removal commands below before running uninstall.exe</p>
</div>
<div class="section" id="gui-uninstall">
<h3>GUI Uninstall<a class="headerlink" href="#gui-uninstall" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/control_panel.png" src="../_images/control_panel.png" />
<ul class="simple">
<li>Open the Control Panel and select &#8220;Uninstall a Program&#8221;</li>
</ul>
<img alt="../_images/add_remove.png" src="../_images/add_remove.png" />
<ul class="simple">
<li>Once the Programs and Features Window appears, double click
&#8220;Intel - sawtoothvalidator - Sawtooth&#8221;</li>
</ul>
<img alt="../_images/validator_uninstall_progress_bar.png" src="../_images/validator_uninstall_progress_bar.png" />
<ul class="simple">
<li>Click close once the uninstaller finishes</li>
</ul>
</div>
<div class="section" id="command-line-uninstall">
<h3>Command Line Uninstall<a class="headerlink" href="#command-line-uninstall" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Open Powershell, navigate to the folder containing uninstaller.exe and
start the install:</li>
</ul>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Users\username&gt; cd &#39;C:\Program Files (x86)\Intel\sawtooth-validator&#39;</span>
<span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator&gt; .\uninstall.exe /S</span>
</pre></div>
</div>
<p>However you chose to uninstall, you should now see the Validator
files have been removed from <code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Intel\sawtooth-validator</span></code>.</p>
<p>You may see some remaining directories. The uninstaller chooses not to remove
the <code class="docutils literal"><span class="pre">conf</span></code>, <code class="docutils literal"><span class="pre">data</span></code>, or <code class="docutils literal"><span class="pre">logs</span></code> directories if they aren&#8217;t empty. You can back up any
remaining files and remove the leftover directories by hand.</p>
</div>
<div class="section" id="service-removal">
<h3>Service removal<a class="headerlink" href="#service-removal" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">PS C:\Program Files (x86)\Intel\sawtooth-validator\bin&gt; python.exe .\txnvalidator.py remove</span>
<span class="go">Removing service SawtoothValidator-Service</span>
<span class="go">Service removed</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="network_configuration.html" class="btn btn-neutral float-right" title="Network Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation_sles.html" class="btn btn-neutral" title="Installation on SLES" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016, 2017, Intel Corporation.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>