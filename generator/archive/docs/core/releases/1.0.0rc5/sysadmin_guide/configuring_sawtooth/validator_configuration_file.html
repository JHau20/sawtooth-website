

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Validator Configuration File &mdash; Sawtooth v1.0.0rc5 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Sawtooth v1.0.0rc5 documentation" href="../../index.html"/>
        <link rel="up" title="Configuring Sawtooth" href="../configuring_sawtooth.html"/>
        <link rel="next" title="REST API Configuration File" href="rest_api_configuration_file.html"/>
        <link rel="prev" title="Configuring Sawtooth" href="../configuring_sawtooth.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../contents.html" class="icon icon-home"> Sawtooth
          

          
          </a>

          
            
            
              <div class="version">
                v1.0.0rc5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_developers_guide.html">Application Developer&#8217;s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../sysadmin_guide.html">System Administrator&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation.html">Installing Hyperledger Sawtooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../systemd.html">Running Sawtooth as a Service</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../configuring_sawtooth.html">Configuring Sawtooth</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Validator Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest_api_configuration_file.html">REST API Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="cli_configuration.html">Sawtooth CLI Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="poet_sgx_enclave_configuration_file.html">PoET SGX Enclave Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="path_configuration_file.html">Path Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="identity_tp_configuration.html">Identity Transaction Processor Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings_tp_configuration.html">Settings Transaction Processor Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="xo_tp_configuration.html">XO Transaction Processor Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../log_configuration.html">Log Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rest_auth_proxy.html">Using a Proxy Server to Authorize the REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissioning.html">Permissioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configure_sgx.html">Using Sawtooth with the SGX Implementation of PoET</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rest_api.html">REST API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sdks.html">Sawtooth SDK APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">CLI Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transaction_family_specifications.html">Transaction Family Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">Sawtooth</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../../sysadmin_guide.html">System Administrator&#8217;s Guide</a> &raquo;</li>
        
          <li><a href="../configuring_sawtooth.html">Configuring Sawtooth</a> &raquo;</li>
        
      <li>Validator Configuration File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/sysadmin_guide/configuring_sawtooth/validator_configuration_file.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="validator-configuration-file">
<h1>Validator Configuration File<a class="headerlink" href="#validator-configuration-file" title="Permalink to this headline">Â¶</a></h1>
<p>The validator configuration file specifies network information that allows
the validator to advertise itself properly and search for peers. This file
also contains settings for optional authorization roles and transactor
permissions.</p>
<p>If the config directory contains a file named <code class="docutils literal"><span class="pre">validator.toml</span></code>, the
configuration settings are applied when the validator starts. (By default, the
config directory is <code class="docutils literal"><span class="pre">/etc/sawtooth/</span></code>; see <a class="reference internal" href="path_configuration_file.html"><span class="doc">Path Configuration File</span></a> for
more information.) Specifying an option on the command line overrides the
setting in the configuration file.</p>
<p>An example configuration file is in
<code class="docutils literal"><span class="pre">/sawtooth-core/packaging/validator.toml.example</span></code>.
To create a validator configuration file, copy the example file to the config
directory and name it <code class="docutils literal"><span class="pre">validator.toml</span></code>. Then edit the file to change the
example configuration options as necessary for your system.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference internal" href="../configure_sgx.html"><span class="doc">Using Sawtooth with the SGX Implementation of PoET</span></a> for an example of changing the settings in
<code class="docutils literal"><span class="pre">validator.toml</span></code> when configuring Sawtooth with the SGX implementation of
PoET.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">validator.toml</span></code> configuration file has the following options:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">bind</span></code> = [ &#8220;<code class="docutils literal"><span class="pre">endpoint</span></code>&#8221;, &#8220;<code class="docutils literal"><span class="pre">endpoint</span></code>&#8221; ]</p>
<p>Sets the network and component endpoints. Default network bind interface:
<code class="docutils literal"><span class="pre">tcp://127.0.0.1:8800</span></code>. Default component bind interface:
<code class="docutils literal"><span class="pre">tcp://127.0.0.1:4004</span></code>.</p>
<p>Each string has the format <code class="docutils literal"><span class="pre">{option}:{endpoint}</span></code>, where
<code class="docutils literal"><span class="pre">{option}</span></code> is either <code class="docutils literal"><span class="pre">network</span></code> or <code class="docutils literal"><span class="pre">component</span></code>. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>bind = [
  &quot;network:tcp://127.0.0.1:8800&quot;,
  &quot;component:tcp://127.0.0.1:4004&quot;
]
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">peering</span> <span class="pre">=</span> <span class="pre">&quot;{static,dynamic}&quot;</span></code></p>
<p>Specifies the type of peering approach the validator should take: static
or dynamic.  Default: <code class="docutils literal"><span class="pre">static</span></code>.</p>
<p>Static peering attempts to peer only with the candidates provided with the
peers option. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>peering = &quot;static&quot;
</pre></div>
</div>
<p>Dynamic peering first processes any static peers, starts topology buildouts,
then uses the URLs specified by the seeds option for the initial connection
to the validator network.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>peering = &quot;dynamic&quot;
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">endpoint</span> <span class="pre">=</span> <span class="pre">&quot;URL&quot;</span></code></p>
<p>Sets the advertised network endpoint URL. Default: <a class="reference external" href="tcp://127.0.0.1:8800">tcp://127.0.0.1:8800</a>.
Replace the external interface and port values with either the
publicly addressable IP address and port or with the NAT values for your
validator. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>endpoint = &quot;tcp://127.0.0.1:8800&quot;
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">seeds</span></code> = [<code class="docutils literal"><span class="pre">URI</span></code>]</p>
<p>(Dynamic peering only.) Specifies the URI or URIs for the initial connection
to the validator network.  Specify multiple URIs in a comma-separated list;
each URI must be enclosed in double quotes.  Default: none.</p>
<p>Note that this option is not needed in static peering mode.</p>
<p>Replace the seed address and port values with either the publicly addressable
IP address and port or with the NAT values for the other nodes in your
network. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>seeds = [&quot;tcp://127.0.0.1:8801&quot;]
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">peers</span></code> = [&#8220;<cite>URL</cite>&#8220;]</p>
<p>Specifies a static list of peers to attempt to connect to. Default: none.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>peers = [&quot;tcp://127.0.0.1:8801&quot;]
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">scheduler</span></code> = &#8216;<cite>type</cite>&#8216;</p>
<p>Determines the type of scheduler to use: serial or parallel. Default:
<code class="docutils literal"><span class="pre">serial</span></code>. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>scheduler = &#39;serial&#39;
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">network_public_key</span></code> and <code class="docutils literal"><span class="pre">network_private_key</span></code></p>
<p>Specifies the curve ZMQ key pair used to create a secured network based on
side-band sharing of a single network key pair to all participating nodes.
Default: none.</p>
<p>Enclose the key in single quotes; for example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>network_public_key = &#39;wFMwoOt&gt;yFqI/ek.G[tfMMILHWw#vXB[Sv}&gt;l&gt;i)&#39;
network_private_key = &#39;r&amp;oJ5aQDj4+V]p2:Lz70Eu0x#m%IwzBdP(}&amp;hWM*&#39;
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If these options are not set or the configuration file does not exist, the
network will default to being insecure.</p>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">opentsdb_url</span></code> = &#8220;<cite>value</cite>&#8220;</p>
<p>Sets the host and port for Open TSDB database (used for metrics).
Default: none.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">opentsdb_db</span></code> = &#8220;<cite>name</cite>&#8220;</p>
<p>Sets the name of the Open TSDB database. Default: none.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">opentsdb_username</span></code> = <cite>username</cite></p>
<p>Sets the username for the Open TSDB database. Default: none.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">opentsdb_password</span></code> = <cite>password</cite></p>
<p>Sets the password for the Open TSDB database. Default: none.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">network</span> <span class="pre">=</span> <span class="pre">&quot;{trust,challenge}&quot;</span></code></p>
<p>Specifies the type of authorization that must be performed for the different
type of authorization roles on the network: trust or challenge.
Default: trust.</p>
<p>This option must be in the <code class="docutils literal"><span class="pre">[roles]</span></code> section of the file.
For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[roles]
network = &quot;trust&quot;
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../architecture/validator_network.html#authorization-types"><span class="std std-ref">Authorization Types</span></a>.</p>
</li>
<li><p class="first">&#8220;<cite>role</cite>&#8221; = &#8220;<cite>policy</cite>&#8220;</p>
<p>Sets the off-chain transactor permissions for the role or roles that specify
which transactors are allowed to sign batches on the system. Multiple roles
can be defined, using one &#8220;<cite>role</cite>&#8221; = &#8220;<cite>policy</cite>&#8221; entry per line. Default: none.</p>
<p>The role names specified in this config file must match the roles stored in
state for transactor permissioning. For example:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">transactor</span></code></li>
<li><code class="docutils literal"><span class="pre">transactor.transaction_signer</span></code></li>
<li><code class="docutils literal"><span class="pre">transactor.transaction_signer.{tp_name}</span></code></li>
<li><code class="docutils literal"><span class="pre">transactor.batch_signer</span></code></li>
</ul>
<p>For <cite>policy</cite>, specify a policy file in <code class="docutils literal"><span class="pre">policy_dir</span></code> (by default,
<code class="docutils literal"><span class="pre">/etc/sawtooth/</span></code>). Each policy file contains permit and deny rules for the
transactors; see <a class="reference internal" href="../permissioning.html#off-chain-transactor-permissioning"><span class="std std-ref">Off-Chain Transactor Permissioning</span></a>.</p>
<p>Because transactor roles and policy files can have a period in the name, use
double-quotes so that TOML can process these settings. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[permissions]
&quot;transactor&quot; = &quot;policy.example&quot;
&quot;transactor.transaction_signer&quot; = &quot;policy.example&quot;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">default</span></code> role cannot be set in the configuration file. Use the
<code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">identity</span></code> CLI to change this on-chain-only setting.</p>
</div>
<p>See <a class="reference internal" href="../permissioning.html"><span class="doc">Permissioning</span></a> for more information on roles and permissions.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">minimum_peer_connectivity</span></code> = <cite>min</cite></p>
<p>The minimum number of peers required before stopping peer search.
Default: 3 For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>minimum_peer_connectivity = 3
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">maximum_peer_connectivity</span></code> = <cite>max</cite></p>
<p>The maximum number of peers that will be accepted. Default: 10. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>maximum_peer_connectivity = 10
</pre></div>
</div>
</li>
</ul>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rest_api_configuration_file.html" class="btn btn-neutral float-right" title="REST API Configuration File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../configuring_sawtooth.html" class="btn btn-neutral" title="Configuring Sawtooth" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, Intel Corporation.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'v1.0.0rc5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>