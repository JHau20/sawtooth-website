

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Sawtooth on Ubuntu 16.04 &mdash; Sawtooth v1.0.0rc1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Sawtooth v1.0.0rc1 documentation" href="../index.html"/>
        <link rel="up" title="Installing and Running Sawtooth" href="installing_sawtooth.html"/>
        <link rel="next" title="Using Sawtooth on AWS" href="aws.html"/>
        <link rel="prev" title="Using Sawtooth with Docker" href="docker.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../contents.html" class="icon icon-home"> Sawtooth
          

          
          </a>

          
            
            
              <div class="version">
                v1.0.0rc1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../app_developers_guide.html">Application Developer&#8217;s Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="installing_sawtooth.html">Installing and Running Sawtooth</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="docker.html">Using Sawtooth with Docker</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using Sawtooth on Ubuntu 16.04</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview-of-sawtooth-components">Overview of Sawtooth Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#validator-start-up-process">Validator Start-up Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="#starting-the-rest-api">Starting the REST API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-a-transaction-processor">Running a Transaction Processor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-the-list-of-transaction-families">Configuring the List of Transaction Families</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-and-submitting-transactions">Creating and Submitting Transactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#viewing-blocks-and-state">Viewing Blocks and State</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="aws.html">Using Sawtooth on AWS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="address_and_namespace.html">Address and Namespace Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro_xo_transaction_family.html">Introduction to the XO Transaction Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="java_sdk.html">Java SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript_sdk.html">JavaScript SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_sdk.html">Python SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html">Testing a Transaction Processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="no_sdk.html">Development Without an SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../core_developers_guide.html">Core Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sysadmin_guide.html">System Administrator&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest_api.html">REST API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdks.html">Sawtooth SDK APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">CLI Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transaction_family_specifications.html">Transaction Family Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">Sawtooth</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../app_developers_guide.html">Application Developer&#8217;s Guide</a> &raquo;</li>
        
          <li><a href="installing_sawtooth.html">Installing and Running Sawtooth</a> &raquo;</li>
        
      <li>Using Sawtooth on Ubuntu 16.04</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/app_developers_guide/ubuntu.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-sawtooth-on-ubuntu-16-04">
<h1>Using Sawtooth on Ubuntu 16.04<a class="headerlink" href="#using-sawtooth-on-ubuntu-16-04" title="Permalink to this headline">¶</a></h1>
<p>This procedure guides you through the process of setting up Hyperledger Sawtooth
for application development on Ubuntu, introduces some of the basic Sawtooth
concepts necessary for application development, and walks through performing
the following tasks:</p>
<ul class="simple">
<li>Installing Sawtooth on Ubuntu 16.04</li>
<li>Starting a Sawtooth validator and related components</li>
<li>Submitting transactions to the REST API</li>
<li>Viewing blocks, transactions, and state with the sawtooth CLI tool</li>
</ul>
<p>Upon completion of this section, you will be prepared for subsequent sections
that describe application development topics, such as implementing business
logic with transaction families and writing clients which use Sawtooth&#8217;s REST
API.</p>
<div class="section" id="overview-of-sawtooth-components">
<h2>Overview of Sawtooth Components<a class="headerlink" href="#overview-of-sawtooth-components" title="Permalink to this headline">¶</a></h2>
<p>A running Sawtooth network consists of the following applications or processes:</p>
<a class="reference internal image-reference" href="../_images/hyperledger_sawtooth_components.png"><img alt="Sawtooth components" class="align-center" src="../_images/hyperledger_sawtooth_components.png" style="width: 80%;" /></a>
<p>This diagram represents a simple network with just two validators and two
transaction processors. The second validator&#8217;s transaction processors are not
depicted.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installing-ubuntu">
<h3>Installing Ubuntu<a class="headerlink" href="#installing-ubuntu" title="Permalink to this headline">¶</a></h3>
<p>Ubuntu packages are provided by one of the Sawtooth package repositories:
stable or nightly.  We recommend using the stable repository.</p>
<p>To add the stable repository, run these commands in a terminal window
on your host system:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 8AA7AF1F1091A5FD
<span class="gp">$</span> sudo add-apt-repository <span class="s1">&#39;deb http://repo.sawtooth.me/ubuntu/1.0/stable xenial universe&#39;</span>
<span class="gp">$</span> sudo apt-get update
</pre></div>
</div>
<p>To use the nightly repository, run the following commands in a terminal window
on your host system:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 44FC67F19B2466EA
<span class="gp">$</span> sudo apt-add-repository <span class="s2">&quot;deb http://repo.sawtooth.me/ubuntu/nightly xenial universe&quot;</span>
<span class="gp">$</span> sudo apt-get update
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Nightly builds may be out-of-sync with the documentation and have not gone
through long-running network testing.  We really do recommend the stable
repository.</p>
</div>
</div>
<div class="section" id="installing-sawtooth">
<h3>Installing Sawtooth<a class="headerlink" href="#installing-sawtooth" title="Permalink to this headline">¶</a></h3>
<p>Sawtooth consists of several Ubuntu packages that can be installed together
using the <code class="docutils literal"><span class="pre">sawtooth</span></code> metapackage.  Run the following command in the same
host terminal window:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo apt-get install -y sawtooth
</pre></div>
</div>
<p>At any time after installation, you can view the installed sawtooth packages
with the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> dpkg -l <span class="s1">&#39;*sawtooth*&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="validator-start-up-process">
<h2>Validator Start-up Process<a class="headerlink" href="#validator-start-up-process" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-the-genesis-block">
<h3>Creating the Genesis Block<a class="headerlink" href="#creating-the-genesis-block" title="Permalink to this headline">¶</a></h3>
<p>In most use cases, it is not necessary to create a genesis block when starting
a validator, because the validator joins an existing distributed ledger
network. However, as a developer, you may often need to create short-lived
test networks. In this case, you need to create a genesis block when
instantiating a new network.</p>
<p>The genesis block contains some initial values that are necessary when a
Sawtooth distributed ledger is created and used for the first time.
One of the settings in the genesis block that should be set is the
key that is authorized to set and change configuration settings, as
shown below using the <code class="docutils literal"><span class="pre">sawset</span> <span class="pre">genesis</span></code> command.</p>
<p>To create the genesis block, open a new terminal window
and run the following commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sawtooth keygen
<span class="gp">$</span> sawset genesis
<span class="gp">$</span> sudo -u sawtooth sawadm genesis config-genesis.batch
</pre></div>
</div>
<p>The following output appears:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Processing config-genesis.batch...</span>
<span class="go">Generating /var/lib/sawtooth/genesis.batch</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you need to delete previously existing blockchain data before running a
validator, simply remove all files from /var/lib/sawtooth.</p>
</div>
</div>
<div class="section" id="starting-the-validator">
<h3>Starting the Validator<a class="headerlink" href="#starting-the-validator" title="Permalink to this headline">¶</a></h3>
<p>To start a validator that listens locally on the default ports, run the
following commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo sawadm keygen
<span class="gp">$</span> sudo -u sawtooth sawtooth-validator -vv
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <cite>-vv</cite> flag sets the log level. To run the validator with less logging
output, use <cite>-v</cite> or omit the flag.</p>
</div>
<p>Logging output will be printed to the validator terminal window. The validator
output includes something similar to this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[16:18:30.145 INFO    chain] Chain controller initialized with chain head: None</span>
<span class="go">[16:18:30.145 INFO    publisher] Now building on top of block: None</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you want to stop the validator, enter CTRL-c in the validator&#8217;s terminal
window.  You can stop any other running Sawtooth component by entering
CTRL-c in the appropriate window.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>By default, the validator listens on the loopback interface for both network
and component communications. To change the interface and port used, the
<cite>&#8211;bind</cite> flag can be used. The following command is equivalent to the default
behavior:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">sawtooth</span> <span class="n">sawtooth</span><span class="o">-</span><span class="n">validator</span> <span class="o">-</span><span class="n">vv</span> <span class="o">--</span><span class="n">bind</span> <span class="n">network</span><span class="p">:</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8800</span> <span class="o">--</span><span class="n">bind</span> <span class="n">component</span><span class="p">:</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">4004</span>
</pre></div>
</div>
<p class="last">See <a class="reference internal" href="../cli/validator.html"><span class="doc">Validator CLI (sawtooth-validator)</span></a> for more information on the validator flags.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The validator can process transactions in serial or parallel with no difference
in the state produced. To process in parallel, use the option <code class="docutils literal"><span class="pre">--scheduler</span> <span class="pre">parallel</span></code>.
The default option is <code class="docutils literal"><span class="pre">--scheduler</span> <span class="pre">serial</span></code>. To get the most benefit from the parallel option,
start multiple transaction processors for types of transactions for which there is an expected
high volume.</p>
</div>
</div>
</div>
<div class="section" id="starting-the-rest-api">
<h2>Starting the REST API<a class="headerlink" href="#starting-the-rest-api" title="Permalink to this headline">¶</a></h2>
<p>In order to configure a running validator, submit batches, and query the state
of the ledger, you must start the REST API application.</p>
<p>Open a new terminal window, then run the following command to start the
REST API and connect to a local validator:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo -u sawtooth sawtooth-rest-api -v
</pre></div>
</div>
</div>
<div class="section" id="running-a-transaction-processor">
<h2>Running a Transaction Processor<a class="headerlink" href="#running-a-transaction-processor" title="Permalink to this headline">¶</a></h2>
<p>Transaction processors can be started either before or after the validator is
started.</p>
<p>The IntegerKey transaction processor is provided as a simple example of a
transaction family, which can also be used for testing purposes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In a production environment, you should always run a transaction processor
that supports the config transaction family.
See <a class="reference internal" href="#configuring-the-list-of-transaction-families">Configuring the List of Transaction Families</a> for more information.</p>
</div>
<p>To start an IntegerKey transaction processor, open a new terminal window, then
run the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo -u sawtooth intkey-tp-python -v
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, the transaction processor tries to connect to a local validator
on port 4004. This can be modified by passing a different endpoint as an
argument. The following endpoint argument is equivalent to the default:
<code class="docutils literal"><span class="pre">intkey-tp-python</span> <span class="pre">-v</span> <span class="pre">tcp://127.0.0.1:4004</span></code></p>
</div>
<p>This command starts a transaction processor with an <code class="docutils literal"><span class="pre">intkey</span></code> handler that can
understand and process transactions from the IntegerKey transaction family.</p>
<p>The transaction processor produces the following output:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[23:07:57 INFO    core] register attempt: OK</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-the-list-of-transaction-families">
<h2>Configuring the List of Transaction Families<a class="headerlink" href="#configuring-the-list-of-transaction-families" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to start the Settings transaction family, confirm
that the REST API is running, and tell the validator or validator network to
accept transactions from the IntegerKey and Settings transaction families.</p>
<p>Sawtooth provides a <a class="reference internal" href="../transaction_family_specifications/settings_transaction_family.html"><span class="doc">Settings transaction family</span></a> that stores
on-chain settings, along with a Settings family transaction processor written
in Python.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Sawtooth supports multiple languages for transaction processor development and
includes additional transaction processors written in several languages.
The following lists the processors that are included:</p>
<ul class="last simple">
<li>settings-tp - A Settings family transaction processor written in Python</li>
<li>intkey-tp-go - An IntegerKey transaction processor written in Go</li>
<li>intkey-tp-java - An IntegerKey transaction processor written in Java</li>
<li>intkey-tp-javascript - An IntegerKey transaction processor written in JavaScript
(requires node.js)</li>
<li>poet-validator-registry-tp - A transaction family used by the PoET consensus
algorithm implementation to keep track of other validators</li>
<li>xo-tp-javascript - An XO transaction processor written in JavaScript
(requires node.js)</li>
<li>xo-tp-python - An XO transaction processor written in Python</li>
</ul>
</div>
<p>One of the on-chain settings is the list of supported transaction families.
To configure this setting, use the follow steps to start the Settings family
transaction processor, start the REST API, and create and submit the batch
to change the settings.</p>
<div class="section" id="starting-the-settings-family-processor">
<h3>Starting the Settings Family Processor<a class="headerlink" href="#starting-the-settings-family-processor" title="Permalink to this headline">¶</a></h3>
<p>To start the settings family transaction processor, open a new terminal window
and run the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo -u sawtooth settings-tp -v
</pre></div>
</div>
<p>Check the validator window to confirm that the transaction processor has
registered with the validator.  A successful registration event produces the
following output:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[21:03:55.955 INFO    processor_handlers] registered transaction processor: identity=b&#39;6d2d80275ae280ea&#39;, family=sawtooth_settings, version=1.0, namespaces=&lt;google.protobuf.pyext._message.RepeatedScalarContainer object at 0x7e1ff042f6c0&gt;</span>
<span class="go">[21:03:55.956 DEBUG   interconnect] ServerThread sending TP_REGISTER_RESPONSE to b&#39;6d2d80275ae280ea&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="verifying-that-the-rest-api-is-running">
<h3>Verifying That the REST API is Running<a class="headerlink" href="#verifying-that-the-rest-api-is-running" title="Permalink to this headline">¶</a></h3>
<p>In order to configure a running validator, the REST API must be running.
Run the following command in the terminal window in which you started
the REST API:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ps aux <span class="p">|</span> grep sawtooth-rest-api
<span class="go">sawtooth  2829  0.0  0.3  55756  3980 pts/0    S+   19:36   0:00 sudo -u sawtooth sawtooth-rest-api -v</span>
<span class="go">sawtooth  2830  0.0  3.6 221164 37520 pts/0    Sl+  19:36   0:00 /usr/bin/python3 /usr/bin/sawtooth-rest-api -v</span>
<span class="go">ubuntu    3004  0.0  0.0  12944   928 pts/4    S+   19:54   0:00 grep -E --color=auto sawtooth-rest-api</span>
</pre></div>
</div>
<p>If necessary, run the following command to start the REST API.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo -u sawtooth sawtooth-rest-api -v
</pre></div>
</div>
</div>
<div class="section" id="changing-the-transaction-family-settings">
<h3>Changing the Transaction Family Settings<a class="headerlink" href="#changing-the-transaction-family-settings" title="Permalink to this headline">¶</a></h3>
<p>In the example below, a JSON array is submitted to the <code class="docutils literal"><span class="pre">sawset</span></code>
command, which creates and submits a batch of transactions containing the
settings change.</p>
<p>The JSON array used tells the validator or validator network to accept
transactions of the following types:</p>
<ul class="simple">
<li>intkey (IntegerKey transaction family)</li>
<li>sawtooth_settings (Settings transaction family)</li>
</ul>
<p>To create and submit the batch containing the new settings, open a new
terminal window and enter the following commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sawset proposal create sawtooth.validator.transaction_families<span class="o">=</span><span class="s1">&#39;[{&quot;family&quot;: &quot;intkey&quot;, &quot;version&quot;: &quot;1.0&quot;}, {&quot;family&quot;:&quot;sawtooth_settings&quot;, &quot;version&quot;:&quot;1.0&quot;}]&#39;</span>
</pre></div>
</div>
<p>A TP_PROCESS_REQUEST message appears in the logging output of the validator,
and output similar to the following appears in the validator terminal window:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">sawtooth.settings.vote.authorized_keys: 035bd41bf6ea872...</span>
<span class="go">sawtooth.validator.transaction_families: [{&quot;family&quot;: &quot;in...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creating-and-submitting-transactions">
<h2>Creating and Submitting Transactions<a class="headerlink" href="#creating-and-submitting-transactions" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">intkey</span></code> command creates sample transactions of the <code class="docutils literal"><span class="pre">intkey</span></code>
(IntegerKey) transaction type for testing purposes.</p>
<p>This section guides you through the following tasks:</p>
<ol class="arabic simple">
<li>Preparing a batch of IntegerKey transactions that set the keys to random values.</li>
<li>Generating <em>inc</em> (increment) and <em>dec</em> (decrement) transactions to apply to
the existing state stored in the blockchain.</li>
<li>Submitting these transactions to the validator.</li>
</ol>
<p>Open a new terminal window and run the following commands:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> intkey create_batch
<span class="go">Writing to batches.intkey...</span>

<span class="gp">$</span> intkey load
<span class="go">batches: 2 batch/sec: 135.96900883377907</span>
</pre></div>
</div>
<p>You can watch the processing of the transactions by observing the
logging output of the <code class="docutils literal"><span class="pre">intkey</span></code> transaction processor. A truncated example of
this output is shown below:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[19:29:26 INFO    core] register attempt: OK</span>
<span class="go">[19:31:06 INFO    handler] processing: Verb=set Name=eBuPof Value=99811 address=1cf126c584128aaf1837c90c83748ab222c11b8bbd2fe6cc30f17fe35f2acb9af8efd4ee3f092b676546316cf85b2e929b68d9c5314e93ac318ba527ec74aa3ed1bc2e</span>
<span class="go">[19:31:06 INFO    handler] processing: Verb=set Name=HOUUQS Value=10140 address=1cf126380fa9e716a05ac815741fd1960d5952e60f8747e13334f79504c57d0287b77cf9b78284d0e1544f6f0366d66c6e6eb99dc5c154b84175b2d20008d721c7b623</span>
<span class="go">[19:31:06 INFO    handler] processing: Verb=set Name=lrnuDC Value=92318 address=1cf12617c797cf8c27254bbdb5c9bda09f9405b9494ae32b79b9b6d30881ca8552d5932a68f703d1b6754b9feb2edafa76a797fc0826110381b0f8614f2c6853316b47</span>
<span class="go">[19:31:06 INFO    handler] processing: Verb=set Name=BKaiql Value=94175 address=1cf12669cbc17d076a1accb4b0bb61f40ed4f999173b90e3ca2591875a55fee2947661e60fa1c57b41ef0f2660176b945a01c85ff645543297068a3fb1306324a19612</span>
<span class="go">[19:31:06 INFO    handler] processing: Verb=set Name=wpMQmE Value=47316 address=1cf1260f6bdf66b65ff7c00ec58c4deccffd167bfee7a85698880dfa485df3de1ec18a5b2d1dc12849743d1c74320108360a2d40d223b35fbc1c4ea03bbd8306480c62</span>
<span class="go">[19:31:06 INFO    handler] processing: Verb=set Name=GTgrvP Value=31921 address=1cf12606ac7db03c756133c07d7d02b59f3ef9eae6774fe59c75c88ab66a9fabbbaef9975dbf9aa197d1090ed126d7b18e2</span>
</pre></div>
</div>
</div>
<div class="section" id="viewing-blocks-and-state">
<h2>Viewing Blocks and State<a class="headerlink" href="#viewing-blocks-and-state" title="Permalink to this headline">¶</a></h2>
<p>You can view the blocks stored in the blockchain and the nodes of the Merkle
tree by using the <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">block</span></code> command.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">sawtooth</span></code> CLI provides help for all subcommands. For example, to get
help for the <code class="docutils literal"><span class="pre">block</span></code> subcommand, enter the command <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">block</span> <span class="pre">-h</span></code>.</p>
</div>
<div class="section" id="viewing-the-list-of-blocks">
<h3>Viewing the List of Blocks<a class="headerlink" href="#viewing-the-list-of-blocks" title="Permalink to this headline">¶</a></h3>
<p>Enter the command <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">block</span> <span class="pre">list</span></code> to view the blocks stored by the state:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sawtooth block list
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Expand the terminal window to at least 157 characters to view all output.</p>
</div>
<p>The output of the command will be similar to this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">NUM  BLOCK_ID                                                                                                                          BATS  TXNS  SIGNER</span>
<span class="go">2    5d4b9ba0c9b0615fc21fa89fe88c20fc3d2e2dba02e4b5e0df15ace9283dc4c62bc7b222d897c784ec1e4cc773759837635011e35603f4e6940ebca2e154d3ba  2     10    038b5e...</span>
<span class="go">1    05d2f2101d30c7d9cc31b8f416818acf55a283828fcd45052fd51359e89c3a6a60c6f87354e2000e759754bf829bd375d27fcac495a378f00179efc140f0fee9  1     1     038b5e...</span>
<span class="go">0    8b2781db2a19936d8873e7e0a44c5294ea1ad110984d565c3fb669169dfd3514790405634a27225f6ab0cfd0301c434adfa5df81a221f87919c122181f344362  1     1     038b5e...</span>
</pre></div>
</div>
</div>
<div class="section" id="viewing-a-particular-block">
<h3>Viewing a Particular Block<a class="headerlink" href="#viewing-a-particular-block" title="Permalink to this headline">¶</a></h3>
<p>Using the output from the <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">block</span> <span class="pre">list</span></code> above, copy the block id
you want to view, then paste it in place of <code class="docutils literal"><span class="pre">{BLOCK_ID}</span></code> in the following
<code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">block</span> <span class="pre">show</span></code> command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sawtooth block show <span class="o">{</span>BLOCK_ID<span class="o">}</span>
</pre></div>
</div>
<p>The output of this command will be similar to this example (truncated output
shown):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">  batches:</span>
<span class="go">- header:</span>
<span class="go">    signer_public_key: 0380be3421629849b1d03af520d7fa2cdc24c2d2611771ddf946ef3aaae216be84</span>
<span class="go">    transaction_ids:</span>
<span class="go">    - c498c916da09450597053ada1938858a11d94e2ed5c18f92cd7d34b865af646144d180bdc121a48eb753b4abd326baa3ea26ee8a29b07119052320370d24ab84</span>
<span class="go">    - c68de164421bbcfcc9ea60b725bae289aecd02ddde6f520e6e85b3227337e2971e89bbff468bdebe408e0facc343c612a32db98e5ac4da2296a7acf4033073cd</span>
<span class="go">    - faf9121f9744716363253cb0ff4b6011093ada6e19dae63ae04a58a1fca25424779a13628a047c009d2e73d0e7baddc95b428b4a22cf1c60961d6dcae8ee60fa</span>
<span class="go">  header_signature: 2ff874edfa80a8e6b718e7d10e91970150fcc3fcfd46d38eb18f356e7a733baa40d9e816247985d7ea7ef2492c09cd9c1830267471c6e35dca0d19f5c6d2b61e</span>
<span class="go">  transactions:</span>
<span class="go">  - header:</span>
<span class="go">      batcher_public_key: 0380be3421629849b1d03af520d7fa2cdc24c2d2611771ddf946ef3aaae216be84</span>
<span class="go">      dependencies:</span>
<span class="go">      - 19ad647bd292c980e00f05eed6078b471ca2d603b842bc4eaecf301d61f15c0d3705a4ec8d915ceb646f35d443da43569f58c906faf3713853fe638c7a0ea410</span>
<span class="go">      family_name: intkey</span>
<span class="go">      family_version: &#39;1.0&#39;</span>
<span class="go">      inputs:</span>
<span class="go">      - 1cf126c15b04cb20206d45c4d0e432d036420401dbd90f064683399fae55b99af1a543f7de79cfafa4f220a22fa248f8346fb1ad0343fcf8d7708565ebb8a3deaac09d</span>
<span class="go">      nonce: 0x1.63021cad39ceep+30</span>
<span class="go">      outputs:</span>
<span class="go">      - 1cf126c15b04cb20206d45c4d0e432d036420401dbd90f064683399fae55b99af1a543f7de79cfafa4f220a22fa248f8346fb1ad0343fcf8d7708565ebb8a3deaac09d</span>
<span class="go">      payload_sha512: 942a09c0254c4a5712ffd152dc6218fc5453451726d935ac1ba67de93147b5e7be605da7ab91245f48029b41f493a1cc8dfc45bb090ac97420580eb1bdded01f</span>
<span class="go">      signer_public_key: 0380be3421629849b1d03af520d7fa2cdc24c2d2611771ddf946ef3aaae216be84</span>
<span class="go">    header_signature: c498c916da09450597053ada1938858a11d94e2ed5c18f92cd7d34b865af646144d180bdc121a48eb753b4abd326baa3ea26ee8a29b07119052320370d24ab84</span>
<span class="go">    payload: o2ROYW1lZnFrbGR1emVWYWx1ZQFkVmVyYmNpbmM=</span>
</pre></div>
</div>
</div>
<div class="section" id="viewing-global-state">
<h3>Viewing Global State<a class="headerlink" href="#viewing-global-state" title="Permalink to this headline">¶</a></h3>
<p>Use the command <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">state</span> <span class="pre">list</span></code> to list the nodes in the Merkle tree:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sawtooth state list
</pre></div>
</div>
<p>The output of the command will be similar to this truncated list:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">ADDRESS                                                                                                                                SIZE DATA</span>
<span class="go">1cf126ddb507c936e4ee2ed07aa253c2f4e7487af3a0425f0dc7321f94be02950a081ab7058bf046c788dbaf0f10a980763e023cde0ee282585b9855e6e5f3715bf1fe 11   b&#39;\xa1fcCTdcH\x...</span>
<span class="go">1cf1260cd1c2492b6e700d5ef65f136051251502e5d4579827dc303f7ed76ddb7185a19be0c6443503594c3734141d2bdcf5748a2d8c75541a8e568bae063983ea27b9 11   b&#39;\xa1frdLONu\x...</span>
<span class="go">1cf126ed7d0ac4f755be5dd040e2dfcd71c616e697943f542682a2feb14d5f146538c643b19bcfc8c4554c9012e56209f94efe580b6a94fb326be9bf5bc9e177d6af52 11   b&#39;\xa1fAUZZqk\x...</span>
<span class="go">1cf126c46ff13fcd55713bcfcf7b66eba515a51965e9afa8b4ff3743dc6713f4c40b4254df1a2265d64d58afa14a0051d3e38999704f6e25c80bed29ef9b80aee15c65 11   b&#39;\xa1fLvUYLk\x...</span>
<span class="go">1cf126c4b1b09ebf28775b4923e5273c4c01ba89b961e6a9984632612ec9b5af82a0f7c8fc1a44b9ae33bb88f4ed39b590d4774dc43c04c9a9bd89654bbee68c8166f0 13   b&#39;\xa1fXHonWY\x...</span>
<span class="go">1cf126e924a506fb2c4bb8d167d20f07d653de2447df2754de9eb61826176c7896205a17e363e457c36ccd2b7c124516a9b573d9a6142f031499b18c127df47798131a 13   b&#39;\xa1foWZXEz\x...</span>
<span class="go">1cf126c295a476acf935cd65909ed5ead2ec0168f3ee761dc6f37ea9558fc4e32b71504bf0ad56342a6671db82cb8682d64689838731da34c157fa045c236c97f1dd80 13   b&#39;\xa1fadKGve\x...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An address is equivalent to a node id.</p>
</div>
</div>
<div class="section" id="viewing-data-in-a-node">
<h3>Viewing Data in a Node<a class="headerlink" href="#viewing-data-in-a-node" title="Permalink to this headline">¶</a></h3>
<p>You can use <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">state</span> <span class="pre">show</span></code> command to view data for a specific node.
Using the output from the <code class="docutils literal"><span class="pre">sawtooth</span> <span class="pre">state</span> <span class="pre">list</span></code> command above, copy the
node id you want to view, then paste it in place of <code class="docutils literal"><span class="pre">{NODE_ID}</span></code> in the
following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sawtooth state show <span class="o">{</span>NODE_ID<span class="o">}</span>
</pre></div>
</div>
<p>The output of the command will be similar to this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">DATA: &quot;b&#39;\xa1fcCTdcH\x192B&#39;&quot;</span>
<span class="go">HEAD: &quot;0c4364c6d5181282a1c7653038ec9515cb0530c6bfcb46f16e79b77cb524491676638339e8ff8e3cc57155c6d920e6a4d1f53947a31dc02908bcf68a91315ad5&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aws.html" class="btn btn-neutral float-right" title="Using Sawtooth on AWS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docker.html" class="btn btn-neutral" title="Using Sawtooth with Docker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, Intel Corporation.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v1.0.0rc1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
